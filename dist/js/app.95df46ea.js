(function(t){function e(e){for(var r,s,a=e[0],u=e[1],h=e[2],l=0,d=[];l<a.length;l++)s=a[l],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);c&&c(e);while(d.length)d.shift()();return o.push.apply(o,h||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],r=!0,s=1;s<i.length;s++){var u=i[s];0!==n[u]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=i[0]))}return t}var r={},n={app:0},o=[];function s(t){return a.p+"js/"+({about:"about"}[t]||t)+"."+{about:"ada693c8"}[t]+".js"}function a(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.e=function(t){var e=[],i=n[t];if(0!==i)if(i)e.push(i[2]);else{var r=new Promise((function(e,r){i=n[t]=[e,r]}));e.push(i[2]=r);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.src=s(t);var h=new Error;o=function(e){u.onerror=u.onload=null,clearTimeout(l);var i=n[t];if(0!==i){if(i){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",h.name="ChunkLoadError",h.type=r,h.request=o,i[1](h)}n[t]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(e)},a.m=t,a.c=r,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(i,r,function(e){return t[e]}.bind(null,r));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/minesweeper/dist/",a.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],h=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var c=h;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0274":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var r=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"nav"}},[i("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),i("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),i("router-view")],1)},o=[],s=(i("5c0b"),i("2877")),a={},u=Object(s["a"])(a,n,o,!1,null,null,null),h=u.exports,l=(i("d3b7"),i("8c4f")),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Minesweeper",{attrs:{size:{width:10,height:8},bombsNumber:10}})],1)},d=[],f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"minesweeper"},[i("BoardHeader",{attrs:{startTime:t.startTime,isFinished:t.isFinished,result:t.result},on:{restart:t.restartHandler}}),i("Board",{attrs:{board:t.board},on:{tile:t.tileHandler,flag:t.flagHandler}})],1)},b=[],m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"board-header"},[i("button",{on:{click:function(e){return t.$emit("restart")}}},[t._v("Restart")]),i("div",{staticClass:"board-header__result"},["victory"===t.result?i("p",[t._v("Congratulation you won!!!")]):t._e(),"loose"===t.result?i("p",[t._v("You loose :(")]):t._e()]),i("div",{staticClass:"board-header__timer"},[""===t.result&&0===t.startTime?i("p",[t._v(" Waiting for start. ")]):i("p",[t._v("Time: "),i("Timer",{attrs:{startTime:t.startTime,isFinished:t.isFinished}})],1)])])},v=[],p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[t._v(t._s(t.time))])},g=[],w={name:"Timer",props:["startTime","isFinished"],data:function(){return{currentTime:0}},methods:{updateCurrentTime:function(){this.isFinished||(this.currentTime=Math.floor(performance.now()/1e3),window.requestAnimationFrame(this.updateCurrentTime))}},computed:{time:function(){return this.currentTime-this.startTime}},mounted:function(){this.updateCurrentTime()}},y=w,_=Object(s["a"])(y,p,g,!1,null,null,null),k=_.exports,T={name:"BoardHeader",components:{Timer:k},props:["startTime","isFinished","result"]},F=T,O=(i("df5a"),Object(s["a"])(F,m,v,!1,null,"1fc51616",null)),j=O.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"minesweeper-board",style:t.cssVars},t._l(this.board,(function(e,r){return i("div",{key:r+"",staticClass:"minesweeper-board__row"},t._l(e,(function(e,n){return i("div",{key:r+"-"+n,staticClass:"minesweeper-board__tile",class:t.classes(r,n),on:{click:function(e){return t.$emit("tile",r,n)},contextmenu:function(e){return e.preventDefault(),t.handleRightClick(r,n)}}},[i("p",[t._v(t._s(e))])])})),0)})),0)},P=[],x={name:"Board",props:["board"],methods:{classes:function(t,e){return{hidden:""===this.board[t][e],bomb:"ðŸ’£"===this.board[t][e],flag:"ðŸš©"===this.board[t][e]}},handleRightClick:function(t,e){this.$emit("flag",t,e)}},computed:{width:function(){return this.board[0].length},height:function(){return this.board.length},cssVars:function(){var t=30;return{"--board-columns":this.width,"--board-rows":this.height,"--cell-size":"".concat(t,"px")}}}},C=x,N=(i("7c14"),Object(s["a"])(C,S,P,!1,null,"4609da30",null)),B=N.exports,M=(i("a4d3"),i("e01a"),i("d28b"),i("d81d"),i("fb6a"),i("4e82"),i("3ca3"),i("ddb0"),i("9f12")),H=i("53fe"),$=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.width,r=void 0===i?10:i,n=e.height,o=void 0===n?8:n,s=e.bombsNumber,a=void 0===s?10:s;Object(M["a"])(this,t),this.width=r,this.height=o,this.bombsNumber=a,this.board=V(this.width,this.height),this._init=!1,this._finish=!1}return Object(H["a"])(t,[{key:"init",value:function(t,e){var i=E({width:this.width,height:this.height,blockedX:t,blockedY:e,bombsNumber:this.bombsNumber}),r=!0,n=!1,o=void 0;try{for(var s,a=i[Symbol.iterator]();!(r=(s=a.next()).done);r=!0){var u=s.value;this.board[u.x][u.y].setType("bomb")}}catch(c){n=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}for(var h=0;h<this.height;h++)for(var l=0;l<this.width;l++)this.board[l][h].isBomb()||(this.board[l][h].setType("safe"),this.board[l][h].value=this._getNumberOfBombNeighbours(l,h));this._init=!0}},{key:"finish",value:function(){this._finish=!0}},{key:"isFinished",value:function(){return this._finish}},{key:"getResult",value:function(){return this.isFinished()?this.isVictory?"victory":"loose":"in progress"}},{key:"showPosition",value:function(t,e){if(!this.isFinished()&&!(t<0||t>this.width-1||e<0||e>this.height-1)&&!this.board[t][e].isShown()&&!this.board[t][e].isFlagged()){this._init||this.init(t,e);var i=this.board[t][e].show();i<0?this.finish():0===i&&this.showNeighbours(t,e),0===this._getNumberOfSafeTiles()&&(this.isVictory=!0,this.finish())}}},{key:"showNeighbours",value:function(t,e){this.showPosition(t-1,e),this.showPosition(t-1,e-1),this.showPosition(t,e-1),this.showPosition(t+1,e-1),this.showPosition(t+1,e),this.showPosition(t+1,e+1),this.showPosition(t,e+1),this.showPosition(t-1,e+1)}},{key:"toggleFlag",value:function(t,e){this.board[t][e].toggleFlag()}},{key:"getView",value:function(){for(var t=[],e=0;e<this.board[0].length;e++){t[e]=[];for(var i=0;i<this.board.length;i++)this.board[i][e].isFlagged()?t[e][i]="ðŸš©":this.board[i][e].isShown()?this.board[i][e].isBomb()?t[e][i]="ðŸ’£":t[e][i]=this.board[i][e].value:t[e][i]=""}return t}},{key:"isShown",value:function(t,e){return this.board[t][e].isShown()}},{key:"isFlagged",value:function(t,e){return this.board[t][e].isFlagged()}},{key:"_getNumberOfSafeTiles",value:function(){for(var t=0,e=0;e<this.board.length;e++)for(var i=0;i<this.board[0].length;i++){var r=this.board[e][i];r.isShown()||r.isBomb()||t++}return t}},{key:"_getNumberOfBombNeighbours",value:function(t,e){for(var i=[t-1,t,t+1],r=[e-1,e,e+1],n=0,o=0,s=i;o<s.length;o++){var a=s[o],u=!0,h=!1,l=void 0;try{for(var c,d=r[Symbol.iterator]();!(u=(c=d.next()).done);u=!0){var f=c.value;a===t&&f===e||(a<0||a>this.width-1||f<0||f>this.height-1||this.board[a][f].isBomb()&&n++)}}catch(b){h=!0,l=b}finally{try{u||null==d.return||d.return()}finally{if(h)throw l}}}return n}}]),t}();function E(t){for(var e=t.width,i=t.height,r=t.blockedX,n=t.blockedY,o=t.bombsNumber,s=[],a=r+e*n,u=0;u<e*i;u++)u!==a&&s.push(u);s.sort((function(){return.5-Math.random()}));var h=s.slice(0,o);return h.map((function(t){var i=Math.floor(t/e),r=t%e;return{x:r,y:i}}))}function V(t,e){for(var i=[],r=0;r<t;r++){i[r]=[];for(var n=0;n<e;n++)i[r][n]=new R}return i}var R=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(M["a"])(this,t),this.hidden=!0,this.flagged=!1,this.type=e}return Object(H["a"])(t,[{key:"setType",value:function(t){Object.defineProperty(this,"type",{value:t,writable:!1})}},{key:"show",value:function(){return this.hidden=!1,this.isBomb()?-1:this.value}},{key:"toggleFlag",value:function(){this.flagged=!this.flagged}},{key:"isShown",value:function(){return!this.hidden}},{key:"isBomb",value:function(){return"bomb"===this.type}},{key:"isFlagged",value:function(){return this.flagged}}]),t}(),z=new $,A={name:"Minesweeper",props:["size","bombsNumber"],components:{BoardHeader:j,Board:B},data:function(){return{board:z.getView(),isStarted:!1,isFinished:!1,startTime:0,result:""}},methods:{tileHandler:function(t,e){this.isFinished||this.isStarted||(this.startTime=Math.floor(performance.now()/1e3),this.isStarted=!0),z.isFlagged(e,t)||(z.showPosition(e,t),this.board=z.getView(),z.isFinished()&&(this.isStarted=!1,this.isFinished=!0,this.result=z.getResult()))},restartHandler:function(){z=new $,this.board=z.getView(),this.isStarted=!1,this.isFinished=!1,this.startTime=0,this.result=""},flagHandler:function(t,e){z.isShown(e,t)||(z.toggleFlag(e,t),this.board=z.getView())}}},Y=A,q=Object(s["a"])(Y,f,b,!1,null,null,null),J=q.exports,L={name:"home",components:{Minesweeper:J}},X=L,D=Object(s["a"])(X,c,d,!1,null,null,null),W=D.exports;r["a"].use(l["a"]);var G=[{path:"/",name:"home",component:W},{path:"/about",name:"about",component:function(){return i.e("about").then(i.bind(null,"f820"))}}],I=new l["a"]({routes:G}),K=I;r["a"].config.productionTip=!1,new r["a"]({router:K,render:function(t){return t(h)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var r=i("9c0c"),n=i.n(r);n.a},"7c14":function(t,e,i){"use strict";var r=i("0274"),n=i.n(r);n.a},9540:function(t,e,i){},"9c0c":function(t,e,i){},df5a:function(t,e,i){"use strict";var r=i("9540"),n=i.n(r);n.a}});
//# sourceMappingURL=app.95df46ea.js.map